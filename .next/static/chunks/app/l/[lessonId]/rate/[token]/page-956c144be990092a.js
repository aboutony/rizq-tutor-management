(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{471:function(e,t,s){Promise.resolve().then(s.bind(s,9196))},9196:function(e,t,s){"use strict";s.d(t,{RatingForm:function(){return r}});var n=s(7437),a=s(2265);function r(e){let{lessonDetails:t,messages:s,token:r}=e,[i,o]=(0,a.useState)(0),[l,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[g,h]=(0,a.useState)(!1),f=async e=>{if(e.preventDefault(),0===i){x("Please select a star rating.");return}x(""),m(!0);let n=await fetch("/api/public/lessons/".concat(t.lesson_id,"/rate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,stars:i,comment:l})});m(!1),n.ok?h(!0):x((await n.json()).message||s.common.errors.generic)};return g?(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:s.parent_flow.rating.success_title}),(0,n.jsx)("p",{className:"mt-2 text-gray-700",children:s.parent_flow.rating.success_body})]}):(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:s.parent_flow.rating.title}),(0,n.jsx)("p",{className:"mt-1 text-gray-600",children:s.parent_flow.rating.subtitle.replace("{tutorName}",t.tutor_name).replace("{studentName}",t.student_name)})]}),(0,n.jsxs)("form",{onSubmit:f,className:"mt-8 space-y-6",children:[(0,n.jsx)("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>o(e),className:"text-4xl",children:(0,n.jsx)("span",{className:e<=i?"text-yellow-400":"text-gray-300",children:"â˜…"})},e))}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-1",children:s.parent_flow.rating.comment_label}),(0,n.jsx)("textarea",{id:"comment",value:l,onChange:e=>c(e.target.value),maxLength:140,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,n.jsxs)("p",{className:"text-xs text-right text-gray-500 mt-1",children:[l.length,"/140"]})]}),u&&(0,n.jsx)("p",{className:"text-sm text-center text-red-600",children:u}),(0,n.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:d?s.common.loading:s.common.actions.submit_rating})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=471)}),_N_E=e.O()}]);