(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{8021:function(e,t,s){Promise.resolve().then(s.bind(s,238))},238:function(e,t,s){"use strict";s.d(t,{RescheduleForm:function(){return o}});var n=s(7437),r=s(2265);function o(e){let{lessonDetails:t,messages:s,token:o}=e,[a,i]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),x=async e=>{e.preventDefault(),d(!0),u("");let n=await fetch("/api/public/lessons/".concat(t.lesson_id,"/reschedule"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,proposedTime:a})});d(!1),n.ok?h(!0):u((await n.json()).message||s.common.errors.generic)};return m?(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:s.parent_flow.reschedule.success_title}),(0,n.jsx)("p",{className:"mt-2 text-gray-700",children:s.parent_flow.reschedule.success_body})]}):(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:s.parent_flow.reschedule.title}),(0,n.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s.parent_flow.reschedule.current_time}),(0,n.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:new Date(t.confirmed_start_at_utc||new Date).toLocaleString()})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"datetime",className:"block text-sm font-medium text-gray-700 mb-1",children:s.parent_flow.reschedule.propose_new_time}),(0,n.jsx)("input",{type:"datetime-local",id:"datetime",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),c&&(0,n.jsx)("p",{className:"text-sm text-center text-red-600",children:c}),(0,n.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:l?s.common.loading:s.common.actions.request_reschedule})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8021)}),_N_E=e.O()}]);