(()=>{var e={};e.id=73,e.ids=[73],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},6113:e=>{"use strict";e.exports=require("crypto")},332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),n(640),n(1506),n(5866);var s=n(3191),r=n(8716),a=n(7922),o=n.n(a),l=n(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);n.d(t,i);let c=["",{children:["l",{children:["[lessonId]",{children:["cancel",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,640)),"E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\l\\[lessonId]\\cancel\\[token]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,1506)),"E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\l\\[lessonId]\\cancel\\[token]\\page.tsx"],m="/l/[lessonId]/cancel/[token]/page",p={require:n,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/l/[lessonId]/cancel/[token]/page",pathname:"/l/[lessonId]/cancel/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5481:(e,t,n)=>{Promise.resolve().then(n.bind(n,6309))},6309:(e,t,n)=>{"use strict";n.d(t,{CancellationForm:()=>a});var s=n(326),r=n(7577);function a({lessonDetails:e,messages:t,token:n}){let[a,o]=(0,r.useState)(!1),[l,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),m=new Date(e.confirmed_start_at_utc||new Date),p=new Date,x=(m.getTime()-p.getTime())/36e5<(e.cutoff_hours||0),u=async()=>{o(!0),i("");let s=await fetch(`/api/public/lessons/${e.lesson_id}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});o(!1),s.ok?d(!0):i((await s.json()).message||t.common.errors.generic)};return c?s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md border text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.parent_flow.cancellation.success_message})}):(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md border text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.parent_flow.cancellation.confirm_title}),(0,s.jsxs)("div",{className:"text-left bg-gray-50 p-4 rounded-md mb-6",children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[t.parent_flow.cancellation.student,":"]})," ",e.student_name]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[t.parent_flow.cancellation.lesson,":"]})," ",e.lesson_label]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[t.parent_flow.cancellation.time,":"]})," ",m.toLocaleString()]})]}),x&&s.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6",role:"alert",children:s.jsx("p",{className:"font-bold",children:t.parent_flow.cancellation.late_warning.replace("{hours}",(e.cutoff_hours||0).toString())})}),l&&s.jsx("p",{className:"text-sm text-center text-red-600 mb-4",children:l}),s.jsx("button",{onClick:u,disabled:a,className:"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400",children:a?t.common.loading:t.common.actions.confirm_cancellation})]})}},640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var s=n(9510),r=n(8569),a=n(9316),o=n(8700),l=n(7913),i=n(8570);let c=(0,i.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\l\[lessonId]\cancel\[token]\CancellationForm.tsx`),{__esModule:d,$$typeof:m}=c;c.default;let p=(0,i.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\l\[lessonId]\cancel\[token]\CancellationForm.tsx#CancellationForm`),x=(e="en")=>"ar"===e?o:"fr"===e?l:a;async function u({params:e}){let{lessonId:t,token:n}=e,a=x(),o=await (0,r.pu)(n,"cancel");return o&&o.lesson_id===t?s.jsx("main",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsx(p,{lessonDetails:o,messages:a,token:n})})}):s.jsx("main",{className:"flex min-h-screen flex-col items-center justify-center p-8 bg-gray-50",children:s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md border text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-red-600",children:a.common.errors.invalid_link})})})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[948,471,708,774],()=>n(332));module.exports=s})();