(()=>{var e={};e.id=376,e.ids=[376],e.modules={7713:(e,t,r)=>{var a={"./ar.json":[8700,700],"./en.json":[9316,316],"./fr.json":[7913,913]};function s(e){if(!r.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return r.e(t[1]).then(()=>r.t(s,19))}s.keys=()=>Object.keys(a),s.id=7713,e.exports=s},7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6026:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(9138),r(3672),r(1506),r(5866);var a=r(3191),s=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["[locale]",{children:["auth",{children:["verify",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9138)),"E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\[locale]\\auth\\verify\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3672)),"E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\[locale]\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\AFKARI\\New Ideas\\RIZQ APP\\rizq-tutor-management\\app\\[locale]\\auth\\verify\\page.tsx"],u="/[locale]/auth/verify/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[locale]/auth/verify/page",pathname:"/[locale]/auth/verify",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1213:(e,t,r)=>{Promise.resolve().then(r.bind(r,4726))},3116:(e,t,r)=>{Promise.resolve().then(r.bind(r,7459)),Promise.resolve().then(r.bind(r,5269))},6302:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},4726:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(326),s=r(7577),n=r(6162),i=r(5047);function o(){let e=(0,n.T)("auth");(0,n.T)("common");let t=(0,i.useParams)(),r=(0,i.useRouter)(),o=t.locale,[l,c]=(0,s.useState)(Array(6).fill("")),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(""),[x,p]=(0,s.useState)(0),g=(0,s.useRef)([]),f="TUTOR",v=(e,t)=>{if(!/^\d*$/.test(t))return;let r=[...l];r[e]=t.slice(-1),c(r),t&&e<5&&g.current[e+1]?.focus(),r.every(e=>""!==e)&&6===r.join("").length&&P(r.join(""))},y=(e,t)=>{"Backspace"===t.key&&!l[e]&&e>0&&g.current[e-1]?.focus()},P=async t=>{u(!0),h("");try{let a=await fetch("/api/auth/otp/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"",code:t,role:f,locale:o})});if(a.ok)sessionStorage.removeItem("rizq_auth_phone"),sessionStorage.removeItem("rizq_auth_role"),r.replace(`/${o}/dashboard/tutor`);else{let t=await a.json();401===a.status?h(e("error_invalid_code")):h(t.message||e("error_generic")),c(Array(6).fill("")),g.current[0]?.focus()}}catch{h(e("error_generic"))}finally{u(!1)}},b=async()=>{if(!(x>0))try{await fetch("/api/auth/otp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"",role:f})}),p(30)}catch{h(e("error_generic"))}};return a.jsx("main",{className:"min-h-screen bg-rizq-surface flex flex-col items-center justify-center px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-sm animate-fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-rizq-primary/10 flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-rizq-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h1",{className:"text-2xl font-bold text-rizq-text",children:e("verify_title")}),(0,a.jsxs)("p",{className:"mt-2 text-rizq-text-muted text-sm",children:[e("code_sent_to")," ",""]})]}),(0,a.jsxs)("div",{className:"card space-y-6",children:[a.jsx("div",{className:"flex justify-center gap-3 dir-ltr",style:{direction:"ltr"},onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);6===t.length&&(c(t.split("")),g.current[6-1]?.focus(),P(t))},children:l.map((e,t)=>a.jsx("input",{ref:e=>{g.current[t]=e},type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:e,onChange:e=>v(t,e.target.value),onKeyDown:e=>y(t,e),className:`w-12 h-14 text-center text-xl font-bold rounded-xl border-2
                  transition-all duration-200
                  bg-rizq-input-bg text-rizq-text
                  ${e?"border-rizq-primary shadow-lg shadow-rizq-primary/10":"border-rizq-input-border"}
                  focus:outline-none focus:border-rizq-primary focus:shadow-lg focus:shadow-rizq-primary/20`,disabled:d,autoComplete:"one-time-code"},t))}),m&&a.jsx("div",{className:"bg-rizq-danger/10 border border-rizq-danger/20 text-rizq-danger rounded-xl px-4 py-3 text-sm text-center animate-fade-in",children:m}),a.jsx("button",{onClick:()=>P(l.join("")),disabled:d||l.some(e=>!e),className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z",className:"opacity-75"})]}),e("verifying")]}):e("verify_button")}),a.jsx("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-rizq-text-muted",children:[e("didnt_receive")," ",a.jsx("button",{onClick:b,disabled:x>0,className:"text-rizq-primary font-semibold hover:underline disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`${e("resend")} (${x}s)`:e("resend")})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("a",{href:`/${o}/auth/login`,className:"text-sm text-rizq-text-muted hover:text-rizq-text transition-colors",children:["← ",e("back_to_login")]})})]})})}},7459:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,ThemeProvider:()=>o});var a=r(326),s=r(7577);let n=(0,s.createContext)({theme:"light",toggle:()=>{}});function i(){return(0,s.useContext)(n)}function o({children:e}){let[t,r]=(0,s.useState)("light"),[i,o]=(0,s.useState)(!1);return i?a.jsx(n.Provider,{value:{theme:t,toggle:()=>{let e="light"===t?"dark":"light";r(e),localStorage.setItem("rizq-theme",e),document.documentElement.classList.toggle("dark","dark"===e)}},children:e}):a.jsx(a.Fragment,{children:e})}},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},9138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=r(8570);let s=(0,a.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\[locale]\auth\verify\page.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let o=(0,a.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\[locale]\auth\verify\page.tsx#default`)},3672:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>p,viewport:()=>g});var a=r(9510),s=r(559),n=r.n(s),i=r(6878),o=r(9907),l=r(8585),c=r(8570);let d=(0,c.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx`),{__esModule:u,$$typeof:m}=d;d.default,(0,c.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx#useTheme`);let h=(0,c.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx#ThemeProvider`);r(1159),r(7272);let x=["en","ar","fr"],p={title:"RIZQ",description:"Protecting a tutor's time and income."},g={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};async function f({children:e,params:{locale:t}}){x.includes(t)||(0,l.notFound)();let r=await (0,o.Z)(),s="ar"===t?"rtl":"ltr";return a.jsx("html",{lang:t,dir:s,suppressHydrationWarning:!0,children:a.jsx("body",{className:n().className,children:a.jsx(i.Z,{messages:r,children:a.jsx(h,{children:e})})})})}},1506:(e,t,r)=>{"use strict";function a({children:e}){return e}r.r(t),r.d(t,{default:()=>a}),r(1159)},9526:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var a=r(9375),s=r(8585);let n=["en","ar","fr"],i=(0,a.Z)(async({requestLocale:e})=>{let t=await e;return t&&n.includes(t)||(0,s.notFound)(),{locale:t,messages:(await r(7713)(`./${t}.json`)).default,onError(e){"MISSING_MESSAGE"===e.code&&console.error(`[RIZQ i18n VIOLATION] Missing translation for locale "${t}": ${e.message}`)},getMessageFallback:({namespace:e,key:r})=>`⚠️ [${t}:${e}.${r}]`}})},7272:()=>{},6162:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var a=r(4643);function s(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let n=s(0,a.T_);s(0,a.Gb)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,471,615,659],()=>r(6026));module.exports=a})();