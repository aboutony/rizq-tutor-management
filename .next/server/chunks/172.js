exports.id=172,exports.ids=[172],exports.modules={7713:(e,t,r)=>{var a={"./ar.json":[8700,700],"./en.json":[9316,316],"./fr.json":[7913,913]};function o(e){if(!r.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],o=t[0];return r.e(t[1]).then(()=>r.t(o,19))}o.keys=()=>Object.keys(a),o.id=7713,e.exports=o},3492:(e,t,r)=>{Promise.resolve().then(r.bind(r,3802))},3116:(e,t,r)=>{Promise.resolve().then(r.bind(r,7459)),Promise.resolve().then(r.bind(r,5269))},6302:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},3802:(e,t,r)=>{"use strict";r.d(t,{DashboardGuardWrapper:()=>s});var a=r(326),o=r(7577),i=r(5047);function n({role:e,locale:t,children:r}){let n=(0,i.usePathname)(),s=(0,i.useRouter)();(0,o.useRef)(n);let l="TUTOR"===e?`/${t}/dashboard/student`:`/${t}/dashboard/tutor`,d=[`/${t}/auth/verify`,`/${t}/auth/login`];return(0,o.useCallback)(t=>!!(t.startsWith(l)||"STUDENT_PARENT"===e&&t.startsWith("/tutor")||d.some(e=>t.startsWith(e))),[l,e,d]),(0,o.useCallback)(async()=>{try{let r=await fetch("/api/auth/session",{cache:"no-store",credentials:"same-origin"});if(!r.ok)return s.replace(`/${t}/auth/login`),!1;let a=await r.json();if(!a.authenticated)return s.replace(`/${t}/auth/login`),!1;if(a.role!==e){console.warn(`[RIZQ GUARD] Role mismatch: expected ${e}, got ${a.role}. Redirecting.`);let r="TUTOR"===a.role?`/${t}/dashboard/tutor`:`/${t}/dashboard/student`;return s.replace(r),!1}return!0}catch{return console.error("[RIZQ GUARD] Session validation failed (network error)"),!0}},[t,e,s]),a.jsx(a.Fragment,{children:r})}function s({role:e,locale:t,children:r}){return a.jsx(n,{role:e,locale:t,children:r})}},7459:(e,t,r)=>{"use strict";r.d(t,{F:()=>n,ThemeProvider:()=>s});var a=r(326),o=r(7577);let i=(0,o.createContext)({theme:"light",toggle:()=>{}});function n(){return(0,o.useContext)(i)}function s({children:e}){let[t,r]=(0,o.useState)("light"),[n,s]=(0,o.useState)(!1);return n?a.jsx(i.Provider,{value:{theme:t,toggle:()=>{let e="light"===t?"dark":"light";r(e),localStorage.setItem("rizq-theme",e),document.documentElement.classList.toggle("dark","dark"===e)}},children:e}):a.jsx(a.Fragment,{children:e})}},4633:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var a=r(326);r(7577);var o=r(7459);function i(){let{theme:e,toggle:t}=(0,o.F)();return a.jsx("button",{id:"theme-toggle",onClick:t,className:"relative w-14 h-7 rounded-full bg-rizq-input-bg border border-rizq-border   transition-all duration-300 ease-in-out   hover:border-rizq-primary focus:outline-none focus:ring-2 focus:ring-rizq-primary/30","aria-label":"light"===e?"Switch to dark mode":"Switch to light mode",children:(0,a.jsxs)("span",{className:`
          absolute top-0.5 w-6 h-6 rounded-full
          flex items-center justify-center
          transition-all duration-300 ease-in-out
          ${"dark"===e?"translate-x-7 bg-indigo-500 shadow-lg shadow-indigo-500/30":"translate-x-0.5 bg-amber-400 shadow-lg shadow-amber-400/30"}
        `,children:[a.jsx("svg",{className:`w-3.5 h-3.5 text-white transition-all duration-300 ${"dark"===e?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}),a.jsx("svg",{className:`w-3.5 h-3.5 text-white absolute transition-all duration-300 ${"dark"===e?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})]})})}},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6468:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(9510);r(1159);var o=r(446),i=r(8585),n=r(8570);let s=(0,n.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\[locale]\dashboard\DashboardGuardWrapper.tsx`),{__esModule:l,$$typeof:d}=s;s.default;let c=(0,n.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\app\[locale]\dashboard\DashboardGuardWrapper.tsx#DashboardGuardWrapper`);async function u({children:e,params:{locale:t}}){let r=await (0,o.c)();return r||(0,i.redirect)(`/${t}/auth/login`),a.jsx(c,{role:r.role,locale:t,children:e})}},3672:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y,metadata:()=>m,viewport:()=>w});var a=r(9510),o=r(559),i=r.n(o),n=r(6878),s=r(9907),l=r(8585),d=r(8570);let c=(0,d.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx`),{__esModule:u,$$typeof:h}=c;c.default,(0,d.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx#useTheme`);let f=(0,d.createProxy)(String.raw`E:\AFKARI\New Ideas\RIZQ APP\rizq-tutor-management\components\ThemeProvider.tsx#ThemeProvider`);r(1159),r(7272);let p=["en","ar","fr"],m={title:"RIZQ",description:"Protecting a tutor's time and income."},w={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};async function y({children:e,params:{locale:t}}){p.includes(t)||(0,l.notFound)();let r=await (0,s.Z)(),o="ar"===t?"rtl":"ltr";return a.jsx("html",{lang:t,dir:o,suppressHydrationWarning:!0,children:a.jsx("body",{className:i().className,children:a.jsx(n.Z,{messages:r,children:a.jsx(f,{children:e})})})})}},1506:(e,t,r)=>{"use strict";function a({children:e}){return e}r.r(t),r.d(t,{default:()=>a}),r(1159)},9526:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>n});var a=r(9375),o=r(8585);let i=["en","ar","fr"],n=(0,a.Z)(async({requestLocale:e})=>{let t=await e;return t&&i.includes(t)||(0,o.notFound)(),{locale:t,messages:(await r(7713)(`./${t}.json`)).default,onError(e){"MISSING_MESSAGE"===e.code&&console.error(`[RIZQ i18n VIOLATION] Missing translation for locale "${t}": ${e.message}`)},getMessageFallback:({namespace:e,key:r})=>`⚠️ [${t}:${e}.${r}]`}})},446:(e,t,r)=>{"use strict";r.d(t,{_:()=>n,c:()=>i});var a=r(1615),o=r(6176);async function i(){let e=(0,a.cookies)(),t=e.get("rizq_session")?.value;if(!t)return null;try{let e=new TextEncoder().encode(process.env.JWT_SECRET||"default-secret-key-for-dev"),{payload:r}=await o._(t,e),a=r.userId||r.tutorId||null,i=r.role||"TUTOR",n=r.locale||"en";if(!a)return null;return{userId:a,role:i,locale:n}}catch(e){return console.error("JWT Verification Error:",e),null}}async function n(){let e=await i();return e&&"TUTOR"===e.role?e.userId:null}},7272:()=>{},6162:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var a=r(4643);function o(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let i=o(0,a.T_);o(0,a.Gb)},6176:(e,t,r)=>{"use strict";r.d(t,{_:()=>j});var a=r(2635),o=r(6005),i=r(7261),n=r(6042),s=r(2690),l=r(7682),d=r(3194);let c=(0,i.promisify)(o.verify),u=async(e,t,r,a)=>{let i=(0,d.Z)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,l.Z)(e,i,a);try{return o.timingSafeEqual(r,t)}catch{return!1}}let u=(0,n.Z)(e),h=(0,s.Z)(e,i);try{return await c(u,a,h,r)}catch{return!1}};var h=r(5547),f=r(1079),p=r(5689),m=r(5165),w=r(7219),y=r(1884);let v=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};var g=r(7735);let b=e=>e.d?(0,o.createPrivateKey)({format:"jwk",key:e}):(0,o.createPublicKey)({format:"jwk",key:e});async function x(e,t){if(!(0,m.Z)(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,a.Jx)(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new h.jq('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return b({...e,alg:t});default:throw new h.jq('Unsupported "kty" (Key Type) Parameter value')}}async function P(e,t,r){let o,i;if(!(0,m.Z)(e))throw new h.GW("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new h.GW('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new h.GW("JWS Protected Header incorrect type");if(void 0===e.payload)throw new h.GW("JWS Payload missing");if("string"!=typeof e.signature)throw new h.GW("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,m.Z)(e.header))throw new h.GW("JWS Unprotected Header incorrect type");let n={};if(e.protected)try{let t=(0,a.Jx)(e.protected);n=JSON.parse(f.xv.decode(t))}catch{throw new h.GW("JWS Protected Header is invalid")}if(!(0,p.Z)(n,e.header))throw new h.GW("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...n,...e.header},l=(0,y.Z)(h.GW,new Map([["b64",!0]]),r?.crit,n,s),d=!0;if(l.has("b64")&&"boolean"!=typeof(d=n.b64))throw new h.GW('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:c}=s;if("string"!=typeof c||!c)throw new h.GW('JWS "alg" (Algorithm) Header Parameter missing or invalid');let b=r&&v("algorithms",r.algorithms);if(b&&!b.has(c))throw new h.FP('"alg" (Algorithm) Header Parameter value not allowed');if(d){if("string"!=typeof e.payload)throw new h.GW("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new h.GW("JWS Payload must be a string or an Uint8Array instance");let P=!1;"function"==typeof t?(t=await t(n,e),P=!0,(0,w.Y)(c,t,"verify"),(0,g.x)(t)&&(t=await x(t,c))):(0,w.Y)(c,t,"verify");let S=(0,f.zo)(f.g7.encode(e.protected??""),f.g7.encode("."),"string"==typeof e.payload?f.g7.encode(e.payload):e.payload);try{o=(0,a.Jx)(e.signature)}catch{throw new h.GW("Failed to base64url decode the signature")}if(!await u(c,t,o,S))throw new h.nx;if(d)try{i=(0,a.Jx)(e.payload)}catch{throw new h.GW("Failed to base64url decode the payload")}else i="string"==typeof e.payload?f.g7.encode(e.payload):e.payload;let k={payload:i};return(void 0!==e.protected&&(k.protectedHeader=n),void 0!==e.header&&(k.unprotectedHeader=e.header),P)?{...k,key:t}:k}async function S(e,t,r){if(e instanceof Uint8Array&&(e=f.xv.decode(e)),"string"!=typeof e)throw new h.GW("Compact JWS must be a string or Uint8Array");let{0:a,1:o,2:i,length:n}=e.split(".");if(3!==n)throw new h.GW("Invalid Compact JWS");let s=await P({payload:o,protected:a,signature:i},t,r),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}var k=r(2741),W=r(1301);let T=e=>e.toLowerCase().replace(/^application\//,""),A=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),R=(e,t,r={})=>{let a,o;try{a=JSON.parse(f.xv.decode(t))}catch{}if(!(0,m.Z)(a))throw new h.uv("JWT Claims Set must be a top-level JSON object");let{typ:i}=r;if(i&&("string"!=typeof e.typ||T(e.typ)!==T(i)))throw new h.YS('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:n=[],issuer:s,subject:l,audience:d,maxTokenAge:c}=r,u=[...n];for(let e of(void 0!==c&&u.push("iat"),void 0!==d&&u.push("aud"),void 0!==l&&u.push("sub"),void 0!==s&&u.push("iss"),new Set(u.reverse())))if(!(e in a))throw new h.YS(`missing required "${e}" claim`,a,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(a.iss))throw new h.YS('unexpected "iss" claim value',a,"iss","check_failed");if(l&&a.sub!==l)throw new h.YS('unexpected "sub" claim value',a,"sub","check_failed");if(d&&!A(a.aud,"string"==typeof d?[d]:d))throw new h.YS('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":o=(0,W.Z)(r.clockTolerance);break;case"number":o=r.clockTolerance;break;case"undefined":o=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,w=(0,k.Z)(p||new Date);if((void 0!==a.iat||c)&&"number"!=typeof a.iat)throw new h.YS('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new h.YS('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>w+o)throw new h.YS('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new h.YS('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=w-o)throw new h.fy('"exp" claim timestamp check failed',a,"exp","check_failed")}if(c){let e=w-a.iat;if(e-o>("number"==typeof c?c:(0,W.Z)(c)))throw new h.fy('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-o)throw new h.YS('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a};async function j(e,t,r){let a=await S(e,t,r);if(a.protectedHeader.crit?.includes("b64")&&!1===a.protectedHeader.b64)throw new h.uv("JWTs MUST NOT use unencoded payload");let o={payload:R(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return"function"==typeof t?{...o,key:a.key}:o}}};